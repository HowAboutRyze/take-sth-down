(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{314:function(a,e,s){"use strict";s.r(e);var n=s(2),t=Object(n.a)({},function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"js-杂项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-杂项","aria-hidden":"true"}},[a._v("#")]),a._v(" js 杂项")]),a._v(" "),s("TagGroup"),a._v(" "),s("h2",{attrs:{id:"nvs指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nvs指令","aria-hidden":"true"}},[a._v("#")]),a._v(" nvs指令")]),a._v(" "),s("ul",[s("li",[a._v("nvs install 安装 nvs 环境")]),a._v(" "),s("li",[a._v("nvs add 添加node版本，latest 最新版本，lts 添加最新的 lts 版本node")]),a._v(" "),s("li",[a._v("nvs link 讲一个版本设置未默认使用版本")]),a._v(" "),s("li",[a._v("nvs upgrade 升级到主要版本的最新补丁")]),a._v(" "),s("li",[a._v("nvs ls 列出本地的node版本列表")]),a._v(" "),s("li",[a._v("nvs rm 删除node版本")])]),a._v(" "),s("h2",{attrs:{id:"npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[a._v("#")]),a._v(" npm")]),a._v(" "),s("h3",{attrs:{id:"报错集"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#报错集","aria-hidden":"true"}},[a._v("#")]),a._v(" 报错集")]),a._v(" "),s("h4",{attrs:{id:"error-eperm-operation-not-permitted-unlink-d-sources-node-modules-fsevents-node-modules-abbrev-package-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error-eperm-operation-not-permitted-unlink-d-sources-node-modules-fsevents-node-modules-abbrev-package-json","aria-hidden":"true"}},[a._v("#")]),a._v(" Error: EPERM: operation not permitted, unlink 'D:\\Sources**\\node_modules\\fsevents\\node_modules\\abbrev\\package.json'")]),a._v(" "),s("p",[a._v("背景：克隆egg项目后，运行 "),s("code",[a._v("npm install")]),a._v(" ，报错如题。清除缓存 "),s("code",[a._v("npm cache clean")]),a._v(" 也没用。")]),a._v(" "),s("p",[a._v("解决办法：尝试使用 "),s("code",[a._v("--no-optional")]),a._v(" 运行，即 "),s("code",[a._v("npm install --no-optional")]),a._v(" 。")]),a._v(" "),s("p",[a._v("其他未尝试办法：关闭vscode，通过管理员身份运行命令提示符，来运行 "),s("code",[a._v("npm install")]),a._v(" 。")]),a._v(" "),s("h2",{attrs:{id:"版本发布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本发布","aria-hidden":"true"}},[a._v("#")]),a._v(" 版本发布")]),a._v(" "),s("p",[a._v("使用 "),s("a",{attrs:{href:"https://github.com/conventional-changelog/standard-version",target:"_blank",rel:"noopener noreferrer"}},[a._v("standard-version"),s("OutboundLink")],1),a._v(" 代替 "),s("code",[a._v("npm version")]),a._v(" ，其优势是：")]),a._v(" "),s("ol",[s("li",[a._v("根据 git log 自动生成 changelog")]),a._v(" "),s("li",[a._v("根据 commit message 的 type 生成符和semver的版本号")]),a._v(" "),s("li",[a._v("自动打 tag 和提交 changelog")])]),a._v(" "),s("p",[a._v("安装")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i --save-dev standard-version\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("使用")]),a._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"release"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"standard-version"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h2",{attrs:{id:"npx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npx","aria-hidden":"true"}},[a._v("#")]),a._v(" npx")]),a._v(" "),s("p",[a._v("npm 从5.2版本开始，增加了 npx 命令")]),a._v(" "),s("p",[a._v("npx 能够避免全局安装的模块。比如，create-react-app 这个模块是全局安装，npx 可以运行它，而且不进行全局安装。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ npx create-react-app my-react-app\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("参考："),s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/02/npx.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("npx 使用教程"),s("OutboundLink")],1)]),a._v(" "),s("Gitalk")],1)},[],!1,null,null,null);e.default=t.exports}}]);