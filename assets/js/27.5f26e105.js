(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{290:function(t,i,e){"use strict";e.r(i);e(269);var n=e(270),a=e.n(n);e(271);function r(){var t=this;this.animationDuration=1e3,this.speed={x:10*Math.random()-5,y:10*Math.random()-5},this.radius=5+5*Math.random(),this.life=30+10*Math.random(),this.remainingLife=this.life,this.draw=function(i){var e=t;t.remainingLife>0&&t.radius>0&&(i.beginPath(),i.arc(e.startX,e.startY,e.radius,0,2*Math.PI),i.fillStyle="rgba("+t.rgbArray[0]+","+t.rgbArray[1]+","+t.rgbArray[2]+", 1)",i.fill(),e.remainingLife--,e.radius-=.25,e.startX+=e.speed.x,e.startY+=e.speed.y)}}var s={data:function(){return{particleCanvas:null,particleCtx:null,reductionFactor:17,ctx:null,particles:[],slots:this.$slots}},mounted:function(){var t=this;window.onresize=this.resize,this.$nextTick(function(){t.play(),window.requestAnimationFrame(t.update)})},computed:{btn:function(){return this.$refs.particleContainer}},methods:{play:function(){var t=this;a()(this.btn,{logging:!1}).then(function(i){t.ctx=i.getContext("2d"),t.createParticleCanvas()})},click:function(){var t=this.btn.offsetWidth,i=this.btn.offsetHeight;console.log("点击：",t,i);for(var e=this.ctx.getImageData(0,0,t,i).data,n=0,a=0;a<t;a++)for(var r=0;r<i;r++){if(n%this.reductionFactor==0){var s=4*(r*t+a),c=e.slice(s,s+4),l=this.btn.getBoundingClientRect(),o=l.left+a+window.scrollX,h=l.top+r+window.scrollY;this.createParticleAtPoint(o,h,c)}n++}},createParticleAtPoint:function(t,i,e){var n=new r;n.rgbArray=e,n.startX=t,n.startY=i,n.startTime=Date.now(),this.particles.push(n)},createParticleCanvas:function(){this.particleCanvas=document.createElement("canvas"),this.particleCtx=this.particleCanvas.getContext("2d"),this.particleCanvas.width=window.innerWidth,this.particleCanvas.height=window.innerHeight,this.particleCanvas.style.position="absolute",this.particleCanvas.style.top="0",this.particleCanvas.style.left="0",this.particleCanvas.style.zIndex="1001",this.particleCanvas.style.pointerEvents="none",document.body.appendChild(this.particleCanvas)},resize:function(){this.particleCanvas&&(this.particleCanvas.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.particleCanvas.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)},update:function(){this.particleCtx&&this.particleCtx.clearRect(0,0,window.innerWidth,window.innerHeight);for(var t=0;t<this.particles.length;t++){if(this.particles[t].draw(this.particleCtx),t===this.particles.length-1)(Date.now()-this.particles[t].startTime)/this.particles[t].animationDuration>1&&(this.particles=[])}window.requestAnimationFrame(this.update)}}},c=e(2),l=Object(c.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"particleContainer",attrs:{id:"particleContainer"},on:{click:this.click}},[this._t("default")],2)},[],!1,null,null,null);i.default=l.exports}}]);