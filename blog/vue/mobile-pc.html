<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue 实现移动端和PC端切换 | take-sth-down</title>
    <meta name="description" content="记录学习生活中的点点滴滴">
    <link rel="icon" href="/take-sth-down/favorite-icon.png">
    
    <link rel="preload" href="/take-sth-down/assets/css/0.styles.e819f150.css" as="style"><link rel="preload" href="/take-sth-down/assets/js/app.53e70501.js" as="script"><link rel="preload" href="/take-sth-down/assets/js/2.9e30da15.js" as="script"><link rel="preload" href="/take-sth-down/assets/js/10.2c34953b.js" as="script"><link rel="preload" href="/take-sth-down/assets/js/18.2ab68b30.js" as="script"><link rel="preload" href="/take-sth-down/assets/js/15.7f69c333.js" as="script"><link rel="preload" href="/take-sth-down/assets/js/19.2d7f1321.js" as="script"><link rel="prefetch" href="/take-sth-down/assets/js/11.110788ef.js"><link rel="prefetch" href="/take-sth-down/assets/js/12.760af585.js"><link rel="prefetch" href="/take-sth-down/assets/js/13.7e41cfd6.js"><link rel="prefetch" href="/take-sth-down/assets/js/14.70f648c0.js"><link rel="prefetch" href="/take-sth-down/assets/js/16.c56d7928.js"><link rel="prefetch" href="/take-sth-down/assets/js/17.da73f3e4.js"><link rel="prefetch" href="/take-sth-down/assets/js/20.c5008d28.js"><link rel="prefetch" href="/take-sth-down/assets/js/21.be6e60b9.js"><link rel="prefetch" href="/take-sth-down/assets/js/22.80d4f731.js"><link rel="prefetch" href="/take-sth-down/assets/js/23.4af5b857.js"><link rel="prefetch" href="/take-sth-down/assets/js/24.63776bdb.js"><link rel="prefetch" href="/take-sth-down/assets/js/25.b6badc92.js"><link rel="prefetch" href="/take-sth-down/assets/js/26.28afe811.js"><link rel="prefetch" href="/take-sth-down/assets/js/27.5f26e105.js"><link rel="prefetch" href="/take-sth-down/assets/js/28.cae2f2eb.js"><link rel="prefetch" href="/take-sth-down/assets/js/29.fb04ac26.js"><link rel="prefetch" href="/take-sth-down/assets/js/3.e7df3128.js"><link rel="prefetch" href="/take-sth-down/assets/js/30.3f7e88a3.js"><link rel="prefetch" href="/take-sth-down/assets/js/31.0fce3a92.js"><link rel="prefetch" href="/take-sth-down/assets/js/32.9304c52a.js"><link rel="prefetch" href="/take-sth-down/assets/js/33.1e78346f.js"><link rel="prefetch" href="/take-sth-down/assets/js/34.5347f92c.js"><link rel="prefetch" href="/take-sth-down/assets/js/35.ecafe9bf.js"><link rel="prefetch" href="/take-sth-down/assets/js/36.d84e913b.js"><link rel="prefetch" href="/take-sth-down/assets/js/37.95fd19ad.js"><link rel="prefetch" href="/take-sth-down/assets/js/38.112ab27d.js"><link rel="prefetch" href="/take-sth-down/assets/js/39.4b512b17.js"><link rel="prefetch" href="/take-sth-down/assets/js/4.d0ff8a9a.js"><link rel="prefetch" href="/take-sth-down/assets/js/40.0b8e1b86.js"><link rel="prefetch" href="/take-sth-down/assets/js/41.ba085609.js"><link rel="prefetch" href="/take-sth-down/assets/js/42.86461162.js"><link rel="prefetch" href="/take-sth-down/assets/js/43.15d74da9.js"><link rel="prefetch" href="/take-sth-down/assets/js/44.4268179e.js"><link rel="prefetch" href="/take-sth-down/assets/js/45.a288c826.js"><link rel="prefetch" href="/take-sth-down/assets/js/46.451b0a21.js"><link rel="prefetch" href="/take-sth-down/assets/js/47.143625fb.js"><link rel="prefetch" href="/take-sth-down/assets/js/48.888d7e2f.js"><link rel="prefetch" href="/take-sth-down/assets/js/5.26bbd3bb.js"><link rel="prefetch" href="/take-sth-down/assets/js/6.5100ba4f.js"><link rel="prefetch" href="/take-sth-down/assets/js/7.5e2e039e.js"><link rel="prefetch" href="/take-sth-down/assets/js/8.5fe62cd3.js"><link rel="prefetch" href="/take-sth-down/assets/js/9.e657de51.js">
    <link rel="stylesheet" href="/take-sth-down/assets/css/0.styles.e819f150.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/take-sth-down/" class="home-link router-link-active"><!----> <span class="site-name">take-sth-down</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/take-sth-down/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/intro/intro.html" class="nav-link">博客</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/js/call-bind-apply.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/vue/home.html" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/react/chore.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/css/cyberpunk.html" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/git/github-pages.html" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/http/status-code.html" class="nav-link">http</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/ts/introduction.html" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/other/720yun.html" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">收藏夹</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/intro/intro.html" class="nav-link">收藏夹</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/front-end/css.html" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/back-end/nodejs.html" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/markdown/grammar.html" class="nav-link">Markdown</a></li></ul></div></div><div class="nav-item"><a href="/take-sth-down/tags/" class="nav-link">标签云</a></div><div class="nav-item"><a href="/take-sth-down/about-me/" class="nav-link">关于我</a></div> <a href="https://github.com/HowAboutRyze" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/take-sth-down/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/intro/intro.html" class="nav-link">博客</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/js/call-bind-apply.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/vue/home.html" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/react/chore.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/css/cyberpunk.html" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/git/github-pages.html" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/http/status-code.html" class="nav-link">http</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/ts/introduction.html" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/blog/other/720yun.html" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">收藏夹</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/intro/intro.html" class="nav-link">收藏夹</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/front-end/css.html" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/back-end/nodejs.html" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/take-sth-down/awesome/markdown/grammar.html" class="nav-link">Markdown</a></li></ul></div></div><div class="nav-item"><a href="/take-sth-down/tags/" class="nav-link">标签云</a></div><div class="nav-item"><a href="/take-sth-down/about-me/" class="nav-link">关于我</a></div> <a href="https://github.com/HowAboutRyze" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>博客</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/intro/intro.html" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/js/call-bind-apply.html" class="sidebar-link">call、apply、bind的实现原理</a></li><li><a href="/take-sth-down/blog/js/chore.html" class="sidebar-link">js 杂项</a></li><li><a href="/take-sth-down/blog/js/console.html" class="sidebar-link">console 的5个技巧</a></li><li><a href="/take-sth-down/blog/js/currying.html" class="sidebar-link">js函数柯里化</a></li><li><a href="/take-sth-down/blog/js/js-skill.html" class="sidebar-link">js实用小技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/vue/home.html" class="sidebar-link">Hello 我是 Vue</a></li><li><a href="/take-sth-down/blog/vue/mobile-pc.html" class="active sidebar-link">vue 实现移动端和PC端切换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/take-sth-down/blog/vue/mobile-pc.html#_1-准备工作" class="sidebar-link">1.准备工作</a></li><li class="sidebar-sub-header"><a href="/take-sth-down/blog/vue/mobile-pc.html#_2-修改配置文件" class="sidebar-link">2.修改配置文件</a></li><li class="sidebar-sub-header"><a href="/take-sth-down/blog/vue/mobile-pc.html#_3-设置多页面入口" class="sidebar-link">3.设置多页面入口</a></li><li class="sidebar-sub-header"><a href="/take-sth-down/blog/vue/mobile-pc.html#_4-配置路由" class="sidebar-link">4.配置路由</a></li><li class="sidebar-sub-header"><a href="/take-sth-down/blog/vue/mobile-pc.html#_5-查看效果" class="sidebar-link">5.查看效果</a></li><li class="sidebar-sub-header"><a href="/take-sth-down/blog/vue/mobile-pc.html#_6-去掉-url-中的-html-和" class="sidebar-link">6.去掉 url 中的 .html 和 #</a></li></ul></li><li><a href="/take-sth-down/blog/vue/sass-global-var.html" class="sidebar-link">在vue组件中使用Sass全局变量</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/react/chore.html" class="sidebar-link">react 记录</a></li><li><a href="/take-sth-down/blog/react/react-module-render.html" class="sidebar-link">React模块配置型渲染</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>css</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/css/cyberpunk.html" class="sidebar-link">来一个赛博朋克故障风的按钮</a></li><li><a href="/take-sth-down/blog/css/demo.html" class="sidebar-link">CSS 案例展示</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/git/github-pages.html" class="sidebar-link">GitHub Pages 部署 demo 展示网页</a></li><li><a href="/take-sth-down/blog/git/shell.html" class="sidebar-link">shell 文件自动运行 npm 命令</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>http</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/http/status-code.html" class="sidebar-link">http 状态码详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/ts/introduction.html" class="sidebar-link">TypeScript 入门学习笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/take-sth-down/blog/other/720yun.html" class="sidebar-link">利用720云做全景展示</a></li><li><a href="/take-sth-down/blog/other/interview.html" class="sidebar-link">面试题记录</a></li><li><a href="/take-sth-down/blog/other/vscode.html" class="sidebar-link">vscode 小技巧</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-实现移动端和pc端切换"><a href="#vue-实现移动端和pc端切换" aria-hidden="true" class="header-anchor">#</a> vue 实现移动端和PC端切换</h1> <div class="tag-group" data-v-1ead258c><span data-v-1ead258c>
        vue
    </span></div> <p>最近朋友有提到如果要在一个项目中分别用不同的文件夹放移动端和PC端的代码，如何实现在同一个服务器上判断用户设备并展示对应页面。</p> <p>在网上找了一下其他开发者的实现方案，发现一个比较好用的：<a href="https://blog.csdn.net/ZFL_123456/article/details/86651316" target="_blank" rel="noopener noreferrer">vue.js实现移动端和PC端切换，超详细<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>未防止以后找不到，所以写下本文记录下来自己对这篇博客思路的实践过程。</p> <p>戳这里可以查看该实践<a href="https://howaboutryze.github.io/mobile-pc" target="_blank" rel="noopener noreferrer">实践demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_1-准备工作"><a href="#_1-准备工作" aria-hidden="true" class="header-anchor">#</a> 1.准备工作</h2> <ul><li><p>依赖：vue-cli 2.x</p></li> <li><p>创建项目：<code>vue init webpack mobile-pc</code></p></li> <li><p>目录：</p> <p><img src="/take-sth-down/assets/img/mobilepc_doc.7e088f76.png" alt="目录"></p></li></ul> <h2 id="_2-修改配置文件"><a href="#_2-修改配置文件" aria-hidden="true" class="header-anchor">#</a> 2.修改配置文件</h2> <p>先说说我们要修改哪几个文件以及这几个文件的作用，都在build文件夹下：</p> <ol><li>utils.js
<ul><li>计算资源文件存放路径</li> <li>生成cssLoaders用于加载 .vue文件中的样式</li> <li>生成styleLoaders用于加载不在 .vue文件中的单独存在的样式文件</li></ul></li> <li>webpack.base.conf.js
<ul><li>配置webpack编译入口</li> <li>配置webpack输出路径和命名规则</li> <li>配置模块resolve规则</li></ul></li> <li>webpack.dev.conf.js
<ul><li>将webpack的热重载客户端代码添加到每个entry对应的应用</li> <li>合并基础的webpack配置</li> <li>配置样式文件的处理规则，styleLoaders</li> <li>配置Source Maps</li> <li>配置webpack插件</li></ul></li> <li>webpack.pro.conf.js
<ul><li>合并基础的webpack配置</li> <li>配置样式文件的处理规则，styleLoaders</li> <li>配置webpack的输出</li> <li>配置webpack插件</li> <li>gzip模式下的webpack插件配置</li> <li>webpack-bundle分析</li></ul></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// utils.js</span>

<span class="token comment">// Generate loaders for standalone style files (outside of .vue)</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">styleLoaders</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> loaders <span class="token operator">=</span> exports<span class="token punctuation">.</span><span class="token function">cssLoaders</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> extension <span class="token keyword">in</span> loaders<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> loader <span class="token operator">=</span> loaders<span class="token punctuation">[</span>extension<span class="token punctuation">]</span>
    output<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\.'</span> <span class="token operator">+</span> extension <span class="token operator">+</span> <span class="token string">'$'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      use<span class="token punctuation">:</span> loader
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> output
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 开始添加
 * @returns {Function}
 */</span>
<span class="token comment">// glob 是webpack安装时依赖的一个第三方模块，该模块允许你使用*等符号，例如lib/*.js就是获取lib文件夹下的所有js后缀名的文件</span>
<span class="token keyword">var</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'glob'</span><span class="token punctuation">)</span>
<span class="token comment">// 页面模板</span>
<span class="token keyword">var</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token comment">// 取得相应的页面路径，因为之前的目录结构，所以是src文件下的framework文件夹</span>
<span class="token keyword">var</span> <span class="token constant">PAGE_PATH</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../src/framework'</span><span class="token punctuation">)</span>
<span class="token comment">// 用于做相应的merge处理</span>
<span class="token keyword">var</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>

<span class="token comment">// 多入口配置</span>
<span class="token comment">// 通过glob模块读取framework文件夹下的js后缀文件，如果该文件存在</span>
<span class="token comment">// 那么就作为入口处理</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">entries</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> entryFiles <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token constant">PAGE_PATH</span> <span class="token operator">+</span> <span class="token string">'/*/*.js'</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  entryFiles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> filename <span class="token operator">=</span> filePath<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>filePath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'\/'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> filePath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    map<span class="token punctuation">[</span>filename<span class="token punctuation">]</span> <span class="token operator">=</span> filePath
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> map
<span class="token punctuation">}</span>

<span class="token comment">// 多页面输出配置</span>
<span class="token comment">// 与上面的多页面入口配置相同，读取framework文件夹下对应的html后缀文件，然后放入数组中</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">htmlPlugin</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> entryHtml <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token constant">PAGE_PATH</span> <span class="token operator">+</span> <span class="token string">'/*/*.html'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  entryHtml<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> filename <span class="token operator">=</span> filePath<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>filePath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'\/'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> filePath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> conf <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// 模板来源</span>
      template<span class="token punctuation">:</span> filePath<span class="token punctuation">,</span>
      <span class="token operator">/</span><span class="token operator">/</span> 文件名称
      filename<span class="token punctuation">:</span> filename <span class="token operator">+</span> <span class="token string">'.html'</span><span class="token punctuation">,</span>
      <span class="token operator">/</span><span class="token operator">/</span> 页面模板需要加对应的js脚本，如果不加这行则每个页面都会引入所有的js脚本
      chunks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'manifest'</span><span class="token punctuation">,</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span> filename<span class="token punctuation">]</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      conf <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>conf<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        minfy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          removeComments<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          collapseWhitespace<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          removeAttributeQuotes<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        chunksSortMode<span class="token punctuation">:</span> <span class="token string">'dependency'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 结束添加
 * @returns {Function}
 */</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">createNotifierCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> notifier <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'node-notifier'</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">severity<span class="token punctuation">,</span> errors</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>severity <span class="token operator">!==</span> <span class="token string">'error'</span><span class="token punctuation">)</span> <span class="token keyword">return</span>

    <span class="token keyword">const</span> error <span class="token operator">=</span> errors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> filename <span class="token operator">=</span> error<span class="token punctuation">.</span>file <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    notifier<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> packageConfig<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> severity <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> error<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      subtitle<span class="token punctuation">:</span> filename <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">,</span>
      icon<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'logo.png'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// webpack.base.conf.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">/**
   * webpack入口文件
   */</span>
  <span class="token comment">// 注释掉原入口代码</span>
  <span class="token comment">// entry: {</span>
  <span class="token comment">//   app: './src/main.js'</span>
  <span class="token comment">// }</span>
  <span class="token comment">// 修改开始</span>
  entry<span class="token punctuation">:</span> utils<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 修改结束</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span>
    publicPath<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>
      <span class="token operator">?</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsPublicPath
      <span class="token punctuation">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue$'</span><span class="token punctuation">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string">'@'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// webpack.dev.conf.js</span>

  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'process.env'</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../config/dev.env'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NamedModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// HMR shows correct file names in console on update.</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NoEmitOnErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// https://github.com/ampedandwired/html-webpack-plugin</span>
    <span class="token comment">// 自动将依赖注入到html模板中，并输出最终的html文件到目标文件夹</span>
    <span class="token comment">/**
     * 注释下面这一块
     */</span>
    <span class="token comment">// new HtmlWebpackPlugin({</span>
    <span class="token comment">//   filename: 'index.html',</span>
    <span class="token comment">//   template: 'index.html',</span>
    <span class="token comment">//   inject: true</span>
    <span class="token comment">// }),</span>
    <span class="token comment">/**
     * 注释结束
     */</span>
    <span class="token comment">// copy custom static assets</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token keyword">from</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../static'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        to<span class="token punctuation">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
        ignore<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.*'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">/**
     * 添加 .concat(utils.htmlPlugin())  将原来的模板改为在 utils 中配置的多模板
     */</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>utils<span class="token punctuation">.</span><span class="token function">htmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// webpack.prod.conf.js</span>
    <span class="token comment">/**
     * 注释下面这块代码块，修改模板
     */</span>
    <span class="token comment">// new HtmlWebpackPlugin({</span>
    <span class="token comment">//   filename: config.build.index,</span>
    <span class="token comment">//   template: 'index.html',</span>
    <span class="token comment">//   inject: true,</span>
    <span class="token comment">//   minify: {</span>
    <span class="token comment">//     removeComments: true,</span>
    <span class="token comment">//     collapseWhitespace: true,</span>
    <span class="token comment">//     removeAttributeQuotes: true</span>
    <span class="token comment">//     // more options:</span>
    <span class="token comment">//     // https://github.com/kangax/html-minifier#options-quick-reference</span>
    <span class="token comment">//   },</span>
    <span class="token comment">//   // necessary to consistently work with multiple chunks via CommonsChunkPlugin</span>
    <span class="token comment">//   chunksSortMode: 'dependency'</span>
    <span class="token comment">// }),</span>
    <span class="token comment">/**
     * 注释结束
     */</span>
    <span class="token comment">// keep module.id stable when vendor modules does not change</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// enable scope hoisting</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// split vendor js into its own file</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
      <span class="token function">minChunks</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// any required modules inside node_modules are extracted to vendor</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          module<span class="token punctuation">.</span>resource <span class="token operator">&amp;&amp;</span>
          <span class="token regex">/\.js$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
          module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../node_modules'</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// extract webpack runtime and module manifest to its own file in order to</span>
    <span class="token comment">// prevent vendor hash from being updated whenever app bundle is updated</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'manifest'</span><span class="token punctuation">,</span>
      minChunks<span class="token punctuation">:</span> <span class="token number">Infinity</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// This instance extracts shared chunks from code splitted chunks and bundles them</span>
    <span class="token comment">// in a separate chunk, similar to the vendor chunk</span>
    <span class="token comment">// see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span>
      async<span class="token punctuation">:</span> <span class="token string">'vendor-async'</span><span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      minChunks<span class="token punctuation">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// copy custom static assets</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token keyword">from</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../static'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        to<span class="token punctuation">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
        ignore<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.*'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">/**
     * 添加 .concat(utils.htmlPlugin())   将原来的模板改为在 utils 中配置的多模板
     */</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>utils<span class="token punctuation">.</span><span class="token function">htmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><p>以上为多页面的 <code>webpack</code> 配置。</p> <h2 id="_3-设置多页面入口"><a href="#_3-设置多页面入口" aria-hidden="true" class="header-anchor">#</a> 3.设置多页面入口</h2> <p>在 vue-cli 新建的项目中，入口文件为 <code>index.html 模板</code>、<code>main.js 项目主入口</code>、<code>App.vue 组件入口</code>，以此形成了单页面应用。</p> <p>由此可知，有多少个页面，就需要多少份入口文件。</p> <p><img src="data:image/png;base64,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" alt="入口文件"></p> <p>可以把脚手架生成的三个文件复制到molie和PC文件夹下就行，然后修改一下文件名即可。
注意：</p> <ol><li>在mobile文件夹下的 <code>mobile.html</code> 文件中，把原本的<meta name="viewport" content="width=device-width,initial-scale=1.0"> 替换为<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"></li> <li>这里的 <code>mobile.js</code> 和 <code>index.js</code> 中的路由的路径应该选择与自己相对应的路径</li> <li>PC端的模板使用 <code>index.html</code> 文件名，这样设置默认加载pc端页面</li></ol> <h2 id="_4-配置路由"><a href="#_4-配置路由" aria-hidden="true" class="header-anchor">#</a> 4.配置路由</h2> <p><img src="data:image/png;base64,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" alt="路由"></p> <p>PC端和移动端要有各自的路由</p> <p>为了能使PC和移动端切换时自动识别设备类型，我们加一个简单的判断</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// @/router/pc/index.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'@/components/pc/HelloWorld'</span>
<span class="token keyword">import</span> Haha <span class="token keyword">from</span> <span class="token string">'@/components/pc/Haha'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> HelloWorld
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/haha'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'Haha'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Haha
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断是否为移动设备，是，则跳转到移动端的路径
 */</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/Android|webOS|iPhone|iPod|BlackBerry/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'/mobile.html#/'</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// @/router/mobile/index.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'@/components/mobile/HelloWorld'</span>
<span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">'@/components/mobile/Foo'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> HelloWorld
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Foo
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证
 */</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex">/Android|webOS|iPhone|iPod|BlackBerry/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'/#/'</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="_5-查看效果"><a href="#_5-查看效果" aria-hidden="true" class="header-anchor">#</a> 5.查看效果</h2> <p>到了这个时候就可以 <code>npm start</code> 运行项目查看效果了</p> <p><img src="/take-sth-down/assets/img/mobilepc_pc.4a0d7d9d.png" alt="PC端"></p> <p>浏览器选择手机模式，刷新页面或跳转路由，即可触发路由守卫，显示移动端页面</p> <p><img src="/take-sth-down/assets/img/mobilepc_mobile.dd61ce64.png" alt="移动端"></p> <h2 id="_6-去掉-url-中的-html-和"><a href="#_6-去掉-url-中的-html-和" aria-hidden="true" class="header-anchor">#</a> 6.去掉 <code>url</code> 中的 <code>.html</code> 和 <code>#</code></h2> <p>别说了，将 <code>vue-router</code> 改为 <code>history</code> 模式即可。 👻</p> <div class="tip custom-block"><p>想看demo请点击 <a href="https://github.com/HowAboutRyze/mobile-pc" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div id="gitalk-container"></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">7/24/2019, 11:38:37 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/take-sth-down/blog/vue/home.html" class="prev">
          Hello 我是 Vue
        </a></span> <span class="next"><a href="/take-sth-down/blog/vue/sass-global-var.html">
          在vue组件中使用Sass全局变量
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/take-sth-down/assets/js/app.53e70501.js" defer></script><script src="/take-sth-down/assets/js/2.9e30da15.js" defer></script><script src="/take-sth-down/assets/js/10.2c34953b.js" defer></script><script src="/take-sth-down/assets/js/18.2ab68b30.js" defer></script><script src="/take-sth-down/assets/js/15.7f69c333.js" defer></script><script src="/take-sth-down/assets/js/19.2d7f1321.js" defer></script>
  </body>
</html>
